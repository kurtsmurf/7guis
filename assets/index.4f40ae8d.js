var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&o(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&o(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));"undefined"!=typeof require&&require;import{p as u,s as d,v as c,l as p,y as m,S as f}from"./vendor.9f141e40.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=(e,t)=>{switch(t.type){case"Resize":return l(i({},e),{circles:e.circles.map(((n,r)=>r===e.selected?l(i({},n),{radius:t.newRadius}):n))});case"Create":return l(i({},e),{circles:[...e.circles,t.circle],selected:-1});case"Select":return l(i({},e),{selected:t.index})}},y={circles:[],selected:-1},h=(e,t)=>e.slice(0,t>=0?e.length:t).reduce(v,y),g=(e,t)=>0===e.undoIndex?((e,t)=>l(i({},e),{domainEvents:[...e.domainEvents,t],domainState:v(e.domainState,t)}))(e,t):((e,t)=>l(i({},e),{domainState:v(e.domainState,t),domainEvents:[...e.domainEvents.slice(0,e.undoIndex),t],undoIndex:0}))(e,t),b={domainState:y,domainEvents:[],undoIndex:0},w=(e,t)=>{switch(t.type){case"Undo":{const t=Math.max(-1*e.domainEvents.length,e.undoIndex-1);return l(i({},e),{domainState:h(e.domainEvents,t),undoIndex:t})}case"Redo":{if(0===e.undoIndex)return e;const t=e.undoIndex+1;return l(i({},e),{domainState:h(e.domainEvents,t),undoIndex:t})}default:return((e,t)=>{if("Select"===t.type&&e.domainState.selected===t.index)return e;if("Resize"===t.type&&t.softResize)return l(i({},e),{domainState:v(e.domainState,t)});const n=e.domainState.circles,r=n[n.length-1];return"Create"===t.type&&r&&((e,t)=>{const n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))})(t.circle,r)<1?e:g(e,t)})(e,t)}};function I(){const[{domainEvents:e,domainState:{circles:t,selected:n},undoIndex:r},a]=u(w,b),s=d(null),o=-1*e.length===r,i=0===r,l=t[n];return c("div",{class:"task stack"},c("h3",null,"Circle Drawer"),c("div",{className:"row"},c("button",{onClick:()=>a({type:"Undo"}),disabled:o},"Undo"),c("button",{onClick:()=>a({type:"Redo"}),disabled:i},"Redo"),c("input",{style:"margin-left: auto;",type:"range",disabled:-1===n,value:null==l?void 0:l.radius,onChange:e=>{return t=parseFloat(e.target.value),a({type:"Resize",newRadius:t,softResize:!1});var t},onInput:e=>{return t=parseFloat(e.target.value),a({type:"Resize",newRadius:t,softResize:!0});var t}})),c("svg",{ref:s,onClick:e=>{if(!s.current)return;const t=s.current.getBoundingClientRect(),n=e.x-t.left,r=e.y-t.top;a({type:"Create",circle:{x:n,y:r,radius:10}})}},t.map(((e,t)=>c("circle",{onContextMenu:e=>{e.preventDefault(),(e=>{a({type:"Select",index:e})})(t)},cx:e.x,cy:e.y,r:e.radius,className:t===n?"selected":""})))))}function x(){const[e,t]=p(0);return c("div",{class:"task stack"},c("h3",null,"Counter"),c("div",{class:"row"},c("input",{type:"number",readonly:!0,value:e}),c("button",{onClick:()=>t(e+1)},"Count")))}function E(){const[e,t]=u(((e,t)=>{switch(t.type){case"CREATE":return l(i({},e),{nextId:e.nextId+1,persons:[...e.persons,{id:e.nextId,fullName:t.fullName}]});case"DELETE":return l(i({},e),{persons:e.persons.filter((e=>e.id!==t.personId))});case"UPDATE":return l(i({},e),{persons:e.persons.map((e=>e.id===t.person.id?t.person:e))})}}),{nextId:0,persons:[]}),[n,r]=p(""),[a,s]=p(""),[o,d]=p(-1),[f,v]=p("");m((()=>{const t=e.persons.find((e=>e.id===o));r((null==t?void 0:t.fullName.name)||""),s((null==t?void 0:t.fullName.surname)||"")}),[o]);return c("div",{class:"task stack"},c("h3",null,"CRUD"),c("div",{className:"row row-right"},c("label",{htmlFor:"filter"},"Filter prefix:"),c("input",{onInput:e=>{const t=e.target;v(t.value)},type:"text",name:"filter",id:"filter",value:f})),c("select",{name:"persons",id:"persons",multiple:!0,onInput:e=>{const t=e.target;d(parseFloat(t.value))}},e.persons.filter((e=>!f||e.fullName.surname.startsWith(f))).map((e=>c("option",{value:e.id,selected:e.id===o},e.fullName.surname,", ",e.fullName.name)))),c("div",{className:"row row-right"},c("label",{htmlFor:"name"},"Name:"),c("input",{onInput:e=>{const t=e.target;r(t.value)},type:"text",name:"name",id:"name",value:n})),c("div",{className:"row row-right"},c("label",{htmlFor:"surname"},"Surname:"),c("input",{onInput:e=>{const t=e.target;s(t.value)},type:"text",name:"surname",id:"surname",value:a})),c("button",{onClick:()=>{t({type:"CREATE",fullName:{name:n,surname:a}}),d(e.nextId)}},"create"),c("button",{onClick:()=>t({type:"UPDATE",person:{id:o,fullName:{name:n,surname:a}}}),disabled:o<0},"update"),c("button",{onClick:()=>{t({type:"DELETE",personId:o}),d(-1)},disabled:o<0},"delete"))}function k(){const e=new Date;e.setUTCHours(0,0,0,0);const[t,n]=p(e),[r,a]=p(e),[s,o]=p(!1),i=e=>e.toISOString().slice(0,10);return c("div",{class:"task stack"},c("h3",null,"Flight Booker"),c("select",{name:"flight",id:"flight",onInput:e=>o("return"===e.currentTarget.value)},c("option",{selected:!s,value:"one-way"},"one-way flight"),c("option",{selected:s,value:"return"},"return flight")),c("input",{value:i(t),type:"date",name:"start",id:"start",onInput:e=>n(new Date(e.currentTarget.value))}),c("input",{value:s?i(r):void 0,type:"date",name:"return",id:"return",disabled:!s,onInput:e=>a(new Date(e.currentTarget.value))}),c("button",{disabled:s&&r<t,onClick:()=>{const e=`You have booked a ${s?"flight":"one-way flight"} departing on ${i(t)}${s?` and returning on ${i(r)}`:""}.`;alert(e)}},"Book"))}function T(){const[e,t]=p(32),n=5/9*(e-32);return c("div",{class:"task stack"},c("h3",null,"Temperature Converter"),c("div",{class:"row"},c("input",{type:"number",name:"celsius",id:"celsius",value:n.toFixed(2),onInput:e=>{const n=parseFloat(e.currentTarget.value);"number"==typeof n&&t(1.8*n+32)}}),c("label",{htmlFor:"celsius"},"celsius"),c("span",null,"="),c("input",{type:"number",name:"fahrenheit",id:"fahrenheit",value:e.toFixed(2),onInput:e=>{const n=parseFloat(e.currentTarget.value);"number"==typeof n&&t(n)}}),c("label",{htmlFor:"fahrenheit"},"fahrenheit")))}function C(){const e=(e,t)=>(t.getTime()-e.getTime())/1e3,t={active:!0,start:new Date,duration:100,elapsed:0},[n,r]=u(((t,n)=>{switch(t.active){case!0:switch(n.type){case"RESET":return l(i({},t),{active:!0,start:new Date,elapsed:0});case"TICK":{const n=e(t.start,new Date),r=n<t.duration;return l(i({},t),{active:r,elapsed:r?n:t.duration})}case"UPDATE_DURATION":{const r=e(t.start,new Date);return l(i({},t),{active:r<n.duration,duration:Math.min(100,n.duration),elapsed:r})}}case!1:switch(n.type){case"RESET":return l(i({},t),{active:!0,start:new Date,elapsed:0});case"UPDATE_DURATION":{const e=Math.min(100,n.duration);return l(i({},t),{active:t.elapsed<n.duration,start:new Date((new Date).getTime()-1e3*e),duration:e})}}}return t}),t);m((()=>{const e=setInterval((()=>{r({type:"TICK"})}),50);return()=>clearInterval(e)}),[]);return c("div",{class:"task stack"},c("h3",null,"Timer"),c("div",{className:"row"},c("label",{for:"time"},"Elapsed time:"),c("progress",{id:"time",max:n.duration,value:n.elapsed})),c("p",null,n.elapsed.toFixed(2),"s"),c("div",{className:"row"},c("label",{for:"duration"},"Duration:"),c("input",{type:"range",id:"duration",name:"duration",min:"0",max:100,value:n.duration,onInput:e=>r({type:"UPDATE_DURATION",duration:parseFloat(e.target.value)})})),c("button",{onClick:()=>r({type:"RESET"})},"Reset"))}function D(){return c("div",{class:"stack stack-left"},c(R,null),c(x,null),c(T,null),c(k,null),c(C,null),c(E,null),c(I,null))}function R(){return c("h1",null,"Solutions to ",c("a",{href:"https://eugenkiss.github.io/7guis/tasks"},"7guis"))}f(c(D,null),document.getElementById("app"));
